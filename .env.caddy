# Caddy 环境配置文件
# 复制为 .env 并根据实际情况修改

# 域名配置
DOMAIN=kdfamily.example.com
ADMIN_DOMAIN=admin.kdfamily.example.com
DOCS_DOMAIN=docs.kdfamily.example.com

# SSL/TLS配置
CADDY_EMAIL=admin@kdfamily.example.com
CADDY_TLS_MODE=auto  # auto, manual, off

# 后端服务配置
BACKEND_HOST=backend
BACKEND_PORT=3000

# 前端配置
FRONTEND_ROOT=/var/www/kdfamily

# 日志配置
CADDY_LOG_LEVEL=INFO  # DEBUG, INFO, WARN, ERROR
CADDY_ACCESS_LOG=/var/log/caddy/access.log
CADDY_ERROR_LOG=/var/log/caddy/error.log

# 安全配置
ENABLE_BASIC_AUTH=false
BASIC_AUTH_USER=admin
BASIC_AUTH_PASSWORD_HASH=$2a$14$hashed_password_here

# 缓存配置
STATIC_CACHE_MAX_AGE=31536000  # 1年
HTML_CACHE_CONTROL=no-cache

# 代理配置
PROXY_TIMEOUT=30s
PROXY_HEALTH_CHECK=true
PROXY_HEALTH_INTERVAL=30s

# 开发环境配置
DEV_FRONTEND_PORT=5173
DEV_BACKEND_PORT=3000
DEV_PROXY_PORT=8080

# 监控配置
ENABLE_METRICS=true
METRICS_PATH=/metrics

# 压缩配置
ENABLE_GZIP=true
GZIP_LEVEL=6

# HTTP/3配置
ENABLE_HTTP3=true

# 速率限制配置
ENABLE_RATE_LIMIT=false
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=1m
